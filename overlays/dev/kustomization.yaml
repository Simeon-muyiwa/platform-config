apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: default

resources:
  - ../../base/identity-service
  - ../../base/user-service
  - ../../base/blog-service
  - ../../base/frontend

# Development images (local or minikube registry)
images:
  - name: healthxcape/identity-service
    newName: healthxcape/identity-service
    newTag: v1.0.0
  - name: healthxcape/user-service
    newName: healthxcape/user-service
    newTag: v1.0.0
  - name: healthxcape/blog-service
    newName: healthxcape/blog-service
    newTag: v1.0.0
  - name: healthxcape/frontend
    newName: healthxcape/frontend
    newTag: v1.0.1

# Development patches
patches:
  - path: patches/replicas.yaml
  - path: patches/resources.yaml

# ConfigMap for development rules
configMapGenerator:
  - name: platform-rules
    files:
      - rules.json
    options:
      disableNameSuffixHash: true

commonLabels:
  environment: dev
