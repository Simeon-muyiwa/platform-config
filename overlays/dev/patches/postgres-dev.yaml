# Development: Override postgres credentials for minikube
# Base CRs have placeholder production values; dev uses simple local-only passwords
apiVersion: apps.example.com/v1alpha1
kind: IdentityService
metadata:
  name: identity-service
spec:
  postgres:
    password: identity123
    image: postgres:15-alpine
    storageSize: 1Gi
---
apiVersion: apps.example.com/v1alpha1
kind: UserService
metadata:
  name: user-service
spec:
  postgres:
    password: userservice123
    image: postgres:15-alpine
    storageSize: 1Gi
---
apiVersion: apps.example.com/v1alpha1
kind: BlogService
metadata:
  name: blog-service
spec:
  postgres:
    password: blogservice123
    image: postgres:15-alpine
    storageSize: 1Gi
---
apiVersion: apps.example.com/v1alpha1
kind: MediaApiService
metadata:
  name: media-api
spec:
  postgres:
    password: media123
    image: postgres:15-alpine
    storageSize: 2Gi
  s3:
    endpoint: "http://minio:9000"
    accessKeyId: minioadmin
    secretAccessKey: minioadmin
    forcePathStyle: true
---
apiVersion: apps.example.com/v1alpha1
kind: UploadService
metadata:
  name: upload-service
spec:
  postgres:
    password: upload_password
    image: postgres:15-alpine
    storageSize: 2Gi
  s3:
    endpoint: "http://minio:9000"
    accessKeyId: minioadmin
    secretAccessKey: minioadmin
    forcePathStyle: true
  auth:
    secret: dev-jwt-secret
    nextauthUrl: "http://localhost:30092"
